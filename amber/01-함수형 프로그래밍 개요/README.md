#### 함수형 프로그래밍 정의, 순수함수

성공적인 프로그래밍이란?
성공적인 프로그래밍이란 좋은 프로그램을 만드는 일.
좋은 프로그램은 **사용성, 성능, 확장성, 기획 변경**에 대한 대응력 등이 좋다.
이것들을 효율적이고 생산적으로 이루는 일이 성공적인 프로그래밍.  

**함수형 프로그래밍**은 성공적인 프로그래밍을 위해 부수 효과를 미워하고 조합성을 강조한느 프로그래밍 패러다임이다.

부수 효과를 미워하다 => **순수 함수**를 만든다.  
**조합성**을 강조한다 => 모듈화 수준을 높인다.  
순수 함수 => 오류를 줄이고 안정성을 높인다.  
**모듈화 수준**이 높다. => 생산성을 높인다.  

순수 함수란 외부에 영향을 끼치지 않고, 같은 인자 값에 동일한 결과값을 반환하고, 리턴값 외에는 외부와 소통하는 것이 없는 함수.  

함수형 프로그래밍에서는 값을 변형해 나가거나 값을 다룰 때, 원래 초기화되어있는 값을 건들지 않고 모든 값들에 대한 변화를 일으키지 않고 외부의 상태를 변화시키지 않으면서 인자로 받은 값을 직접 변경시키지 않으면서 값을 다뤄나가는 프로그래밍이다.  

순수함수는 언제 실행해도 항상 동일한 결과를 리턴한다. 그래서 순수함수가 아닌 함수보다 훨씬 조합성을 강조시킬 수 있다. 

결국 함수형 프로그래밍에서는 순수함수를 통해 조합성을 강조하는 프로그래밍이다.  

```javascript

/*순수 함수*/
function add(a, b){
    return a+b;
}
console.log(add(10, 5));
console.log(add(10, 5));

/*순수 함수가 아닌 부수 효과를 일으키는 함수*/
var c=10;
function add2(a, b){
    return a+b+c;
}
console.log(add2(10, 5));
c=20;
console.log(add2(10, 5));

var c=20;
function add3(a, b){
    c=b;
    return a+b;
}
console.log(c);
console.log(add3(10, 5));
console.log(c);

var obj={val:10};
function add4(obj, a){
    obj.val+=a;
}
console.log(obj.val);
add4(obj, 20);
console.log(obj.val);

/*다시 순수 함수*/
var obj2={val:10};
function add5(obj, a){
    return {val: obj.val+a}
}
console.log(obj2.val);
var obj3=add5(obj2, 20);
console.log(obj2.val);
console.log(obj3.val);

```  

순수함수는 평가 시점이 중요하지 않다.  

자바스크립트에서의 함수는 일급 함수. 그렇다면 일급함수란?  
함수를 값으로 다룰 수 있다는 것이다. 함수를 변수에 담을 수도 있고, 변수에 담은 함수가 값으로 다뤄질 수 있기 때문에 인자로 넘겨진다던가, 인자로 넘겨진 함수를 다른 함수가 실행할 수 있다던가 이런 것들이 일급함수의 조건이다.  
**즉, 일급함수는 함수를 언어에서 값으로 다룰 수 있다.** 런타임에서 언제나 정의할 수 있고 언제나 들고다닐 수 있고, 인자로 보낼 수 있고 원하는 상태로 들고 다니다가 원할 때 평가할 수 있는 함수. 그것이 바로 일급함수이다.  


#### 일급함수, add_maker, 함수로 함수 실행하기

일급함수는 함수를 값으로 다룰 수 있는 개념을 말한다.  
자바스크립트는 이것저럼 **변수에 함수를 담을 수 있다**.  

```javascript
/*일급 함수*/
var f1 = function(a){
    return a*a;
};
console.log(f1);

var f2 = add;
console.log(f2);

/*인자로 함수를 받아서 함수를 실행하기*/
/*f3은 함수를 받아서 함수 내부에서 함수를 평가한 다음 그 결과를 리턴하는 함수이다.*/
function f3(f){
    return f();
}
console.log(
    f3(function(){
        return 10;
    });
);

```  

이러한 일급 함수라는 개념과 순수 함수라는 특징을 이용해서 함수의 조합성을 높여나가는 것이 함수형 프로그래밍이다.  
언제 평가해도 상관없는 순수 함수들을 많이 만들고 그 순수 함수들을 값으로 들고 다니면서 필요한 시점마다 평가를 하면서 그런 방식으로 다양한 로직을 만들어 나가는 것이 함수평 프로그래밍이다.  

```javascript
/*add_maker*/
/*함수를 리턴하는 함수*/
/*일급 함수와 클로저가 함께 사용된 예제*/
function add_maker(a){
    return function(b){ //이 함수는 a라는 값을 기억하는 클로저가 된다. 동시에 이 함수는 순수 함수.
        a+b;
    }
}
var add10 = add_maker(10); //add10에는 함수가 들어가게 된다.
console.log(add10(20));
var add5=add_maker(5);
var add15=add_maker(15);
console.log(add5(10));
console.log(add15(10));

```  

함수를 값으로 다루면서 순수함수를 정의하면서, 함수의 평가 시점이 언제이든 상관이 없어서 다양한 방식으로 평가를 하는.. 이런 식으로 프로그래밍 하는 것이 함수형 프로그래밍.

```javascript
function f4(f1, f2, f3){
    return f3(f1()+f2());
}

console.log(
    f4(
        //세 함수는 순수 함수
        function(){return 2;},
        function(){return 1;},
        function(a){return a*a;};
    )
)

```

함수형 프로그래밍은 이런식의 패러다임을 띤다. 함수들을 인자로 받아서 함수가 원하는 로직대로 원하는 시점, 원하는 인자 이런걸 적용하면서 로직을 완성해 나가는 것.  
순수 함수들을 조합해서 최종적 결과를 만들어가는 것.  


#### 요즘 개발 이야기, 함수형 프로그래밍 정의

성공적인 프로그래밍을 위해서 함수형 프로그래밍이 존재한다.  

요즘 개발 이야기  

```
        재미/ 실시간성       │ 라이브 방송, 실시간 댓글, 협업, 메신저
────────────────────────────┼─────────────────────────────────────
        독창성/ 완성도       │     에니메이션, 무한 스크롤, 벽돌
────────────────────────────┼─────────────────────────────────────
    더 많아져야하는 동시성    │   비동기 I/O, CSP, Actor, STM ...
────────────────────────────┼─────────────────────────────────────
 더 빨라야하는 반응/ 고가용성 │ ELB, Auto Scaling, OTP Supervisor ... 
────────────────────────────┼─────────────────────────────────────
    대용량/ 정확성/ 병렬성    │   MapReduce, Clojure Reducers ...
────────────────────────────┼─────────────────────────────────────
       복잡도/ MSA/ ...      │      많아지고 세밀해지는 도구들

```

*고가용성*은 서비스가 절대 죽지 않는 것.  
요즘엔 이 모든 것들이 담겨야하는 시대. 개발자 고생..  
이 모든 것을 이루면서 생산성을 높이는 것이 성공적인 프로그래밍.  

사용자의 눈높이가 올라가고 개발자의 기술력이 올라가는 동안, 
하드웨어 성능은 좋아지고 컴파일러들도 좋아지며 함수형 프로그래밍들이 많이들 소개되고 있다. 스멀슴러 다가오는 FP.  

<br>

" **함수형 프로그래밍**은 애플리케이션, 함수의 구성요소, 더 나아가서 언어 자체를 함수처럼 여기도록 만들고, 이러한 함수 개념을 가장 우선순위에 놓는다. "  
  
" **함수형 사고방식**은 문제의 해결 방법을 동사(함수)들로 구성(조합)하는 것 "  
  
-마이클 포거스 [클로저 프로그래밍의 즐거움]에서..  

```javascript
/*데이터(객체) 기준*/
duck.moveLeft();
duck.moveRight();
dog.moveLeft();
dog.moveRight();

/*함수 기준*/
moveLeft(dog);
moveRight(duck);
moveLeft({ x: 5, y: 2});
moveRight(dog);

```

객체가 먼저 나오면 객체 지향 프로그래밍이고,  
함수가 먼저 나오면 항수형 프로그래밍이다.  

객체지향 프로그래밍에서는 데이터를 먼저 디자인하고, 데이터에 맞는 메서드를 만드는 식으로 프로그래밍을 한다.  
함수형 프로그래밍에서는 함수를 만들고 그 함수에 맞게 데이터 세트를 구성하는 식으로 프로그래밍을 한다.  
